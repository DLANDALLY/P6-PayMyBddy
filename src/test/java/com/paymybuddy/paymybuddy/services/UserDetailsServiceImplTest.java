package com.paymybuddy.paymybuddy.services;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

class UserDetailsServiceImplTest {

    @BeforeEach
    void setUp() {
    }

    @Test
    void loadUserByUsername() {
//        String email = "test@example.com";
//        User user = new User();
//        user.setEmail(email);
//        user.setPassword("encodedPassword");
//        AppRole role = new AppRole();
//        role.setRole("ROLE_USER");
//        user.setRoles(Set.of(role));
//
//        when(userRepository.findUserByEmail(email)).thenReturn(Optional.of(user));
//
//        // Act
//        UserDetails userDetails = userDetailsService.loadUserByUsername(email);
//
//        // Assert
//        assertEquals(email, userDetails.getUsername());
//        assertEquals("encodedPassword", userDetails.getPassword());
//        assertTrue(userDetails.getAuthorities().stream()
//                .anyMatch(a -> a.getAuthority().equals("ROLE_USER")));
    }
}